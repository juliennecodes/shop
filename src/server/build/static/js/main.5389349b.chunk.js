(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[0],{23:function(t,e,c){},24:function(t,e,c){},25:function(t,e,c){},26:function(t,e,c){},27:function(t,e,c){},28:function(t,e,c){},29:function(t,e,c){},30:function(t,e,c){},31:function(t,e,c){},37:function(t,e,c){"use strict";c.r(e);var n=c(0),a=c(1),s=c.n(a),r=c(16),i=c.n(r),j=c(14),u=c(8),l=c(2);c(23),c(24),c(25);function o(t){var e=t.name,c=t.quantity,a=t.updateCart;return Object(n.jsxs)("div",{className:"quantity",children:[Object(n.jsx)(d,{name:e,updateCart:a}),Object(n.jsx)("input",{className:"cart-item__quantity",value:c,onChange:function(){}}),Object(n.jsx)(m,{name:e,updateCart:a})]})}function m(t){var e=t.name,c=t.updateCart;return Object(n.jsx)("button",{className:"increase-qty",onClick:function(){return c(e,1)},"aria-label":"increaseQtyButton",children:Object(n.jsxs)("svg",{className:"increase-qty__svg",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(n.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(n.jsx)("path",{d:"M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1z"})]})})}function d(t){var e=t.name,c=t.updateCart;return Object(n.jsx)("button",{className:"decrease-qty",onClick:function(){return c(e,-1)},"aria-label":"decreaseQtyButton",children:Object(n.jsxs)("svg",{className:"decrease-qty__svg",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(n.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(n.jsx)("path",{d:"M18 13H6c-.55 0-1-.45-1-1s.45-1 1-1h12c.55 0 1 .45 1 1s-.45 1-1 1z"})]})})}function h(t){var e=t.imageLocation,c=t.name,a=t.price,s=t.quantity,r=t.updateCart,i=t.removeItem;return Object(n.jsxs)("li",{className:"cart-item",children:[Object(n.jsx)("img",{className:"cart-item__image",src:e,alt:c}),Object(n.jsx)("p",{className:"cart-item__name",children:c}),Object(n.jsx)(o,{name:c,quantity:s,updateCart:r}),Object(n.jsx)("p",{className:"cart-item__price",children:(a*s).toFixed(2)}),Object(n.jsx)(b,{name:c,removeItem:i})]})}function b(t){var e=t.name,c=t.removeItem;return Object(n.jsx)("div",{className:"cart-item__remove",children:Object(n.jsxs)("svg",{"aria-label":"removeButton",onClick:function(){return c(e)},xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(n.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(n.jsx)("path",{d:"M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})]})})}c(26);function x(t){var e=t.cartItems,c=t.updateCart,a=t.removeItem;return Object(n.jsx)("div",{className:"cart-items",children:Object(n.jsx)("ul",{className:"cart-items__list",children:e.map((function(t,e){return Object(n.jsx)(h,{imageLocation:t.imageLocation,name:t.name,price:t.price,quantity:t.quantity,updateCart:c,removeItem:a},e)}))})})}c(27);function O(t){var e=t.subtotal;return Object(n.jsxs)("div",{className:"subtotal",children:[Object(n.jsx)("p",{className:"subtotal__title",children:"Subtotal"}),Object(n.jsx)("p",{className:"subtotal__cost",children:e.toFixed(2)})]})}function p(t){var e=t.tax;return Object(n.jsxs)("div",{className:"tax",children:[Object(n.jsx)("p",{className:"tax__title",children:"Tax"}),Object(n.jsx)("p",{className:"tax__cost",children:e.toFixed(2)})]})}function v(t){var e=t.total;return Object(n.jsxs)("div",{className:"total",children:[Object(n.jsx)("p",{className:"total__title",children:"Total"}),Object(n.jsx)("p",{className:"total__cost",children:e.toFixed(2)})]})}function f(t){var e=t.subtotal,c=t.tax,a=t.total;return Object(n.jsxs)("div",{className:"order-summary",children:[Object(n.jsx)("h2",{className:"order-summary__heading",children:"Order Summary"}),Object(n.jsx)(O,{subtotal:e}),Object(n.jsx)(p,{tax:c}),Object(n.jsx)(v,{total:a}),Object(n.jsx)("button",{className:"checkout",onClick:function(){return alert("Checkout!")},children:"Checkout"})]})}c(28);function N(t){var e=t.cart,c=t.updateCart,a=t.removeItem;return e?Object(n.jsxs)("div",{className:"cart",children:[e.cartItems.length>0?Object(n.jsx)(x,{cartItems:e.cartItems,updateCart:c,removeItem:a}):Object(n.jsx)(_,{}),Object(n.jsx)(f,{subtotal:e.subtotal,tax:e.tax,total:e.total})]}):Object(n.jsx)("div",{className:"cart",children:Object(n.jsx)(g,{})})}function _(){return Object(n.jsx)("p",{className:"empty-cart-message",children:"Cart is empty"})}function g(){return Object(n.jsx)("p",{children:"Loading"})}function C(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("p",{children:":)"})})}c(29);function y(t){var e=t.name,c=t.price,a=t.imageLocation,s=t.updateCart;return Object(n.jsxs)("li",{className:"menu-item",children:[Object(n.jsx)("img",{className:"menu-item__image",src:a,alt:e}),Object(n.jsx)("p",{className:"menu-item__name",children:e}),Object(n.jsx)("p",{className:"menu-item__price",children:c.toFixed(2)}),Object(n.jsx)("button",{className:"menu-item__button",onClick:function(){return s(e,1)},children:"Add to Cart"})]})}c(30);function w(t){var e=t.menuItems,c=t.updateCart;return Object(n.jsx)("ul",{className:"menu-items",children:e.map((function(t,e){return Object(n.jsx)(y,{name:t.name,price:t.price,imageLocation:t.imageLocation,updateCart:c},e)}))})}function I(){return Object(n.jsx)("p",{children:"Loading"})}function L(t){var e=t.menuItems,c=t.updateCart;return Object(n.jsx)("div",{className:"menu",children:e?Object(n.jsx)(w,{menuItems:e,updateCart:c}):Object(n.jsx)(I,{})})}c(31);function k(){return Object(n.jsx)("nav",{className:"navigation",children:Object(n.jsxs)("ul",{className:"navigation__links",children:[Object(n.jsx)("li",{children:Object(n.jsx)(u.c,{to:"/menu",activeClassName:"selected",children:"Menu"})}),Object(n.jsx)("li",{children:Object(n.jsx)(u.c,{to:"/cart",activeClassName:"selected",children:"Cart"})})]})})}var q=function(){var t=Object(a.useState)(null),e=Object(j.a)(t,2),c=e[0],s=e[1],r=Object(a.useState)(null),i=Object(j.a)(r,2),o=i[0],m=i[1];Object(a.useEffect)((function(){var t=!0;return fetch("/cart").then((function(t){return t.json()})).then((function(e){t&&s(e)})),fetch("/menu").then((function(t){return t.json()})).then((function(e){t&&m(e)})),function(){return t=!1}}),[]);var d=function(t,e){fetch("/cart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({itemName:t,newQty:e})}).then((function(t){return t.json()})).then((function(t){return s(t)}))};return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(u.a,{children:[Object(n.jsx)("h1",{className:"heading",children:Object(n.jsx)(u.b,{to:"/",children:"Seaside Cafe"})}),Object(n.jsx)(k,{}),Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{path:"/",exact:!0,children:Object(n.jsx)(C,{})}),Object(n.jsx)(l.a,{path:"/menu",children:Object(n.jsx)(L,{menuItems:o,updateCart:d})}),Object(n.jsx)(l.a,{path:"/cart",children:Object(n.jsx)(N,{cart:c,setCart:s,updateCart:d,removeItem:function(t){fetch("/cart",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({itemName:t})}).then((function(t){return t.json()})).then((function(t){return s(t)}))}})})]})]})})};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(q,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.5389349b.chunk.js.map